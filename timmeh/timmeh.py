# coding=utf-8
from math import pi

import pyproj
from PIL import Image
from gps3 import agps3

coordinates = pyproj.Proj('+proj=longlat +datum=WGS84 +no_defs')
im = Image.open("tz_color_sea_image.png")
size_x, size_y = im.size
pix = im.load()


def get_latlon(self):
    """Rings up a gpsd to get current lat/lon"""
    gpsd_socket = agps3.GPSDSocket()
    gpsd_socket.connect(host='localhost', port=2947)
    gpsd_socket.watch()
    data_stream = agps3.DataStream()

    try:
        for new_data in gpsd_socket:
            if new_data:
                data_stream.unpack(new_data)
                if data_stream.lat != 'n/a':
                    latitude = data_stream.lat
                    longitude = data_stream.lon
            else:
                time.sleep(.1)
            time.sleep(
                .7)  # default GE refresh rate is 4 seconds, therefore no refresh older than ~1 second from itself.
            return latitude, longitude
    except KeyboardInterrupt:
        gpsd_socket.close()
        print('\nTerminated by user\nGood Bye.\n')


def readit(lat, lon):
    x, y = coordinates(lon, lat)
    px = int((x + pi) * ((size_x / 2) / pi))
    py = int(size_y - (y + (pi / 2)) * (size_y / pi))
    color_value = pix[px, py]
    color_value_string = str(color_value)
    if color_value_string in bigdic.keys():
        tz = bigdic[color_value_string]
    else:
        print('NO LUCK')
    return tz


bigdic = {'(0, 0, 105, 255)': 'Etc/GMT-10',
          '(0, 0, 140, 255)': 'Etc/GMT-9',
          '(0, 0, 175, 255)': 'Etc/GMT-8',
          '(0, 0, 210, 255)': 'Etc/GMT-7',
          '(0, 0, 245, 255)': 'Etc/GMT-6',
          '(0, 0, 35, 255)': 'Etc/GMT-12',
          '(0, 0, 70, 255)': 'Etc/GMT-11',
          '(0, 105, 0, 255)': 'Etc/GMT+11',
          '(0, 105, 105, 255)': 'America/St_Vincent',
          '(0, 105, 140, 255)': 'Australia/Lord_Howe',
          '(0, 105, 175, 255)': 'Asia/Kashgar',
          '(0, 105, 210, 255)': 'Pacific/Wallis',
          '(0, 105, 245, 255)': 'Asia/Jerusalem',
          '(0, 105, 35, 255)': 'Etc/GMT+12',
          '(0, 105, 70, 255)': 'America/Dominica',
          '(0, 140, 0, 255)': 'America/Phoenix',
          '(0, 140, 105, 255)': 'Indian/Chagos',
          '(0, 140, 140, 255)': 'Asia/Seoul',
          '(0, 140, 175, 255)': 'Africa/Dar_es_Salaam',
          '(0, 140, 210, 255)': 'America/Port-au-Prince',
          '(0, 140, 245, 255)': 'America/Montreal',
          '(0, 140, 35, 255)': 'Europe/Berlin',
          '(0, 140, 70, 255)': 'Africa/Gaborone',
          '(0, 175, 0, 255)': 'America/Panama',
          '(0, 175, 105, 255)': 'Asia/Baghdad',
          '(0, 175, 140, 255)': 'America/Santiago',
          '(0, 175, 175, 255)': 'Pacific/Majuro',
          '(0, 175, 210, 255)': 'Africa/El_Aaiun',
          '(0, 175, 245, 255)': 'Europe/Zagreb',
          '(0, 175, 35, 255)': 'America/Boise',
          '(0, 175, 70, 255)': 'Asia/Ho_Chi_Minh',
          '(0, 210, 0, 255)': 'Africa/Nouakchott',
          '(0, 210, 105, 255)': 'Europe/Astrakhan',
          '(0, 210, 140, 255)': 'Africa/Bissau',
          '(0, 210, 175, 255)': 'America/Los_Angeles',
          '(0, 210, 210, 255)': 'America/Sitka',
          '(0, 210, 245, 255)': 'Asia/Jakarta',
          '(0, 210, 35, 255)': 'America/Merida',
          '(0, 210, 70, 255)': 'America/Bahia_Banderas',
          '(0, 245, 0, 255)': 'Australia/Currie',
          '(0, 245, 105, 255)': 'America/Vancouver',
          '(0, 245, 140, 255)': 'Pacific/Pago_Pago',
          '(0, 245, 175, 255)': 'Pacific/Yap',
          '(0, 245, 210, 255)': 'Asia/Tbilisi',
          '(0, 245, 245, 255)': 'Asia/Yerevan',
          '(0, 245, 35, 255)': 'Asia/Harbin',
          '(0, 245, 70, 255)': 'America/Belize',
          '(0, 35, 0, 255)': 'Etc/GMT-5',
          '(0, 35, 105, 255)': 'Etc/GMT-2',
          '(0, 35, 140, 255)': 'Etc/GMT-1',
          '(0, 35, 175, 255)': 'Etc/GMT0',
          '(0, 35, 210, 255)': 'Etc/GMT+1',
          '(0, 35, 245, 255)': 'Etc/GMT+2',
          '(0, 35, 35, 255)': 'Etc/GMT-4',
          '(0, 35, 70, 255)': 'Etc/GMT-3',
          '(0, 70, 0, 255)': 'Etc/GMT+3',
          '(0, 70, 105, 255)': 'Etc/GMT+6',
          '(0, 70, 140, 255)': 'Etc/GMT+7',
          '(0, 70, 175, 255)': 'Etc/GMT+8',
          '(0, 70, 210, 255)': 'Etc/GMT+9',
          '(0, 70, 245, 255)': 'Etc/GMT+10',
          '(0, 70, 35, 255)': 'Etc/GMT+4',
          '(0, 70, 70, 255)': 'Etc/GMT+5',
          '(105, 0, 0, 255)': 'Africa/Asmara',
          '(105, 0, 105, 255)': 'America/Metlakatla',
          '(105, 0, 140, 255)': 'Pacific/Midway',
          '(105, 0, 175, 255)': 'Europe/Simferopol',
          '(105, 0, 210, 255)': 'Europe/Budapest',
          '(105, 0, 245, 255)': 'Asia/Nicosia',
          '(105, 0, 35, 255)': 'America/Chihuahua',
          '(105, 0, 70, 255)': 'America/Port_of_Spain',
          '(105, 105, 0, 255)': 'America/Recife',
          '(105, 105, 105, 255)': 'Europe/Athens',
          '(105, 105, 140, 255)': 'America/Tijuana',
          '(105, 105, 175, 255)': 'Asia/Amman',
          '(105, 105, 210, 255)': 'Africa/Malabo',
          '(105, 105, 245, 255)': 'America/Paramaribo',
          '(105, 105, 35, 255)': 'America/Chicago',
          '(105, 105, 70, 255)': 'America/Mexico_City',
          '(105, 140, 0, 255)': 'Africa/Ndjamena',
          '(105, 140, 105, 255)': 'America/Barbados',
          '(105, 140, 140, 255)': 'America/Antigua',
          '(105, 140, 175, 255)': 'Africa/Blantyre',
          '(105, 140, 210, 255)': 'Australia/Sydney',
          '(105, 140, 245, 255)': 'Pacific/Bougainville',
          '(105, 140, 35, 255)': 'Asia/Choibalsan',
          '(105, 140, 70, 255)': 'Asia/Riyadh',
          '(105, 175, 0, 255)': 'Asia/Dushanbe',
          '(105, 175, 105, 255)': 'Australia/Lindeman',
          '(105, 175, 140, 255)': 'Asia/Brunei',
          '(105, 175, 175, 255)': 'Indian/Comoro',
          '(105, 175, 210, 255)': 'America/Asuncion',
          '(105, 175, 245, 255)': 'Pacific/Chuuk',
          '(105, 175, 35, 255)': 'Europe/Belgrade',
          '(105, 175, 70, 255)': 'Europe/Luxembourg',
          '(105, 210, 0, 255)': 'Europe/Prague',
          '(105, 210, 105, 255)': 'America/Indiana/Winamac',
          '(105, 210, 140, 255)': 'Atlantic/Reykjavik',
          '(105, 210, 175, 255)': 'Africa/Mogadishu',
          '(105, 210, 210, 255)': 'Pacific/Pohnpei',
          '(105, 210, 245, 255)': 'America/Atikokan',
          '(105, 210, 35, 255)': 'America/Cayman',
          '(105, 210, 70, 255)': 'Pacific/Kosrae',
          '(105, 245, 0, 255)': 'Africa/Dakar',
          '(105, 245, 105, 255)': 'America/Edmonton',
          '(105, 245, 140, 255)': 'Europe/Moscow',
          '(105, 245, 175, 255)': 'America/Santo_Domingo',
          '(105, 245, 210, 255)': 'Asia/Bishkek',
          '(105, 245, 245, 255)': 'America/Argentina/Buenos_Aires',
          '(105, 245, 35, 255)': 'Pacific/Norfolk',
          '(105, 245, 70, 255)': 'America/Pangnirtung',
          '(105, 35, 0, 255)': 'Pacific/Apia',
          '(105, 35, 105, 255)': 'Europe/Podgorica',
          '(105, 35, 140, 255)': 'Asia/Karachi',
          '(105, 35, 175, 255)': 'Europe/Istanbul',
          '(105, 35, 210, 255)': 'Africa/Bangui',
          '(105, 35, 245, 255)': 'America/Lima',
          '(105, 35, 35, 255)': 'Europe/Kaliningrad',
          '(105, 35, 70, 255)': 'America/St_Barthelemy',
          '(105, 70, 0, 255)': 'Asia/Srednekolymsk',
          '(105, 70, 105, 255)': 'Europe/Warsaw',
          '(105, 70, 140, 255)': 'Africa/Windhoek',
          '(105, 70, 175, 255)': 'Asia/Dhaka',
          '(105, 70, 210, 255)': 'Europe/Mariehamn',
          '(105, 70, 245, 255)': 'America/La_Paz',
          '(105, 70, 35, 255)': 'Asia/Aden',
          '(105, 70, 70, 255)': 'Pacific/Palau',
          '(140, 0, 0, 255)': 'Asia/Kuwait',
          '(140, 0, 105, 255)': 'Australia/Brisbane',
          '(140, 0, 140, 255)': 'Pacific/Kiritimati',
          '(140, 0, 175, 255)': 'Asia/Qyzylorda',
          '(140, 0, 210, 255)': 'Asia/Aqtobe',
          '(140, 0, 245, 255)': 'America/Eirunepe',
          '(140, 0, 35, 255)': 'Indian/Mauritius',
          '(140, 0, 70, 255)': 'America/Aruba',
          '(140, 105, 0, 255)': 'America/Managua',
          '(140, 105, 105, 255)': 'Africa/Ouagadougou',
          '(140, 105, 140, 255)': 'Pacific/Easter',
          '(140, 105, 175, 255)': 'Indian/Kerguelen',
          '(140, 105, 210, 255)': 'Atlantic/Canary',
          '(140, 105, 245, 255)': 'Asia/Vientiane',
          '(140, 105, 35, 255)': 'Africa/Niamey',
          '(140, 105, 70, 255)': 'Europe/Monaco',
          '(140, 140, 0, 255)': 'Europe/Bucharest',
          '(140, 140, 105, 255)': 'Indian/Reunion',
          '(140, 140, 140, 255)': 'Europe/Kiev',
          '(140, 140, 175, 255)': 'Europe/Vienna',
          '(140, 140, 210, 255)': 'Europe/Rome',
          '(140, 140, 245, 255)': 'America/Guadeloupe',
          '(140, 140, 35, 255)': 'Africa/Lusaka',
          '(140, 140, 70, 255)': 'Asia/Kathmandu',
          '(140, 175, 0, 255)': 'Asia/Manila',
          '(140, 175, 105, 255)': 'America/Fort_Nelson',
          '(140, 175, 140, 255)': 'Africa/Harare',
          '(140, 175, 175, 255)': 'Asia/Bangkok',
          '(140, 175, 210, 255)': 'America/Denver',
          '(140, 175, 245, 255)': 'Africa/Lome',
          '(140, 175, 35, 255)': 'America/Argentina/Cordoba',
          '(140, 175, 70, 255)': 'Asia/Tokyo',
          '(140, 210, 0, 255)': 'Pacific/Enderbury',
          '(140, 210, 105, 255)': 'Asia/Barnaul',
          '(140, 210, 140, 255)': 'Atlantic/Azores',
          '(140, 210, 175, 255)': 'America/Winnipeg',
          '(140, 210, 210, 255)': 'America/Nassau',
          '(140, 210, 245, 255)': 'Europe/Dublin',
          '(140, 210, 35, 255)': 'Africa/Kigali',
          '(140, 210, 70, 255)': 'Europe/Chisinau',
          '(140, 245, 0, 255)': 'Asia/Kuching',
          '(140, 245, 105, 255)': 'Asia/Krasnoyarsk',
          '(140, 245, 140, 255)': 'Pacific/Kwajalein',
          '(140, 245, 175, 255)': 'America/Noronha',
          '(140, 245, 210, 255)': 'America/St_Johns',
          '(140, 245, 245, 255)': 'Europe/Guernsey',
          '(140, 245, 35, 255)': 'America/Argentina/Ushuaia',
          '(140, 245, 70, 255)': 'Asia/Colombo',
          '(140, 35, 0, 255)': 'America/Toronto',
          '(140, 35, 105, 255)': 'America/Montevideo',
          '(140, 35, 140, 255)': 'Asia/Tashkent',
          '(140, 35, 175, 255)': 'America/Blanc-Sablon',
          '(140, 35, 210, 255)': 'Atlantic/Bermuda',
          '(140, 35, 245, 255)': 'America/Argentina/La_Rioja',
          '(140, 35, 35, 255)': 'Europe/Isle_of_Man',
          '(140, 35, 70, 255)': 'Pacific/Honolulu',
          '(140, 70, 0, 255)': 'America/Indiana/Knox',
          '(140, 70, 105, 255)': 'America/Creston',
          '(140, 70, 140, 255)': 'Pacific/Efate',
          '(140, 70, 175, 255)': 'Europe/Brussels',
          '(140, 70, 210, 255)': 'Asia/Gaza',
          '(140, 70, 245, 255)': 'America/El_Salvador',
          '(140, 70, 35, 255)': 'Africa/Banjul',
          '(140, 70, 70, 255)': 'Asia/Phnom_Penh',
          '(175, 0, 0, 255)': 'Africa/Luanda',
          '(175, 0, 105, 255)': 'Africa/Abidjan',
          '(175, 0, 140, 255)': 'America/Tortola',
          '(175, 0, 175, 255)': 'Europe/Malta',
          '(175, 0, 210, 255)': 'Europe/London',
          '(175, 0, 245, 255)': 'Pacific/Guadalcanal',
          '(175, 0, 35, 255)': 'Europe/Paris',
          '(175, 0, 70, 255)': 'America/Guyana',
          '(175, 105, 0, 255)': 'Africa/Ceuta',
          '(175, 105, 105, 255)': 'Asia/Hebron',
          '(175, 105, 140, 255)': 'America/Maceio',
          '(175, 105, 175, 255)': 'Africa/Khartoum',
          '(175, 105, 210, 255)': 'Africa/Douala',
          '(175, 105, 245, 255)': 'Asia/Kuala_Lumpur',
          '(175, 105, 35, 255)': 'America/St_Kitts',
          '(175, 105, 70, 255)': 'Africa/Casablanca',
          '(175, 140, 0, 255)': 'America/Dawson',
          '(175, 140, 105, 255)': 'Europe/Riga',
          '(175, 140, 140, 255)': 'America/Sao_Paulo',
          '(175, 140, 175, 255)': 'Africa/Tripoli',
          '(175, 140, 210, 255)': 'Europe/Madrid',
          '(175, 140, 245, 255)': 'Asia/Tomsk',
          '(175, 140, 35, 255)': 'Africa/Kinshasa',
          '(175, 140, 70, 255)': 'America/Martinique',
          '(175, 175, 0, 255)': 'America/Nipigon',
          '(175, 175, 105, 255)': 'Europe/Skopje',
          '(175, 175, 140, 255)': 'America/St_Thomas',
          '(175, 175, 175, 255)': 'America/Porto_Velho',
          '(175, 175, 210, 255)': 'Africa/Maseru',
          '(175, 175, 245, 255)': 'Europe/Sofia',
          '(175, 175, 35, 255)': 'America/Danmarkshavn',
          '(175, 175, 70, 255)': 'Pacific/Fakaofo',
          '(175, 210, 0, 255)': 'Asia/Dili',
          '(175, 210, 105, 255)': 'Asia/Almaty',
          '(175, 210, 140, 255)': 'Europe/Sarajevo',
          '(175, 210, 175, 255)': 'America/Boa_Vista',
          '(175, 210, 210, 255)': 'Africa/Addis_Ababa',
          '(175, 210, 245, 255)': 'Asia/Pontianak',
          '(175, 210, 35, 255)': 'Pacific/Tahiti',
          '(175, 210, 70, 255)': 'America/Argentina/San_Juan',
          '(175, 245, 0, 255)': 'Europe/Jersey',
          '(175, 245, 105, 255)': 'Indian/Mayotte',
          '(175, 245, 140, 255)': 'Africa/Lubumbashi',
          '(175, 245, 175, 255)': 'Atlantic/Cape_Verde',
          '(175, 245, 210, 255)': 'America/Lower_Princes',
          '(175, 245, 245, 255)': 'Europe/Helsinki',
          '(175, 245, 35, 255)': 'Asia/Ust-Nera',
          '(175, 245, 70, 255)': 'America/Tegucigalpa',
          '(175, 35, 0, 255)': 'Asia/Shanghai',
          '(175, 35, 105, 255)': 'Asia/Singapore',
          '(175, 35, 140, 255)': 'America/Campo_Grande',
          '(175, 35, 175, 255)': 'Africa/Tunis',
          '(175, 35, 210, 255)': 'America/Rankin_Inlet',
          '(175, 35, 245, 255)': 'America/Indiana/Vincennes',
          '(175, 35, 35, 255)': 'America/Regina',
          '(175, 35, 70, 255)': 'America/Thule',
          '(175, 70, 0, 255)': 'America/Santarem',
          '(175, 70, 105, 255)': 'Asia/Dubai',
          '(175, 70, 140, 255)': 'America/Whitehorse',
          '(175, 70, 175, 255)': 'Africa/Djibouti',
          '(175, 70, 210, 255)': 'Europe/San_Marino',
          '(175, 70, 245, 255)': 'America/Argentina/San_Luis',
          '(175, 70, 35, 255)': 'Pacific/Gambier',
          '(175, 70, 70, 255)': 'Europe/Copenhagen',
          '(210, 0, 0, 255)': 'Africa/Monrovia',
          '(210, 0, 105, 255)': 'Europe/Oslo',
          '(210, 0, 140, 255)': 'Atlantic/Faroe',
          '(210, 0, 175, 255)': 'America/Cayenne',
          '(210, 0, 210, 255)': 'America/St_Lucia',
          '(210, 0, 245, 255)': 'Asia/Kolkata',
          '(210, 0, 35, 255)': 'Asia/Muscat',
          '(210, 0, 70, 255)': 'America/Thunder_Bay',
          '(210, 105, 0, 255)': 'Africa/Algiers',
          '(210, 105, 105, 255)': 'Indian/Maldives',
          '(210, 105, 140, 255)': 'Europe/Amsterdam',
          '(210, 105, 175, 255)': 'America/Monterrey',
          '(210, 105, 210, 255)': 'Africa/Juba',
          '(210, 105, 245, 255)': 'America/Costa_Rica',
          '(210, 105, 35, 255)': 'America/Guayaquil',
          '(210, 105, 70, 255)': 'Pacific/Auckland',
          '(210, 140, 0, 255)': 'Europe/Stockholm',
          '(210, 140, 105, 255)': 'Asia/Makassar',
          '(210, 140, 140, 255)': 'America/Caracas',
          '(210, 140, 175, 255)': 'Asia/Hong_Kong',
          '(210, 140, 210, 255)': 'Pacific/Nauru',
          '(210, 140, 245, 255)': 'Europe/Minsk',
          '(210, 140, 35, 255)': 'Europe/Uzhgorod',
          '(210, 140, 70, 255)': 'America/Indiana/Marengo',
          '(210, 175, 0, 255)': 'America/Havana',
          '(210, 175, 105, 255)': 'America/Belem',
          '(210, 175, 140, 255)': 'Asia/Chongqing',
          '(210, 175, 175, 255)': 'Asia/Beirut',
          '(210, 175, 210, 255)': 'Pacific/Saipan',
          '(210, 175, 245, 255)': 'America/Indiana/Vevay',
          '(210, 175, 35, 255)': 'America/Cancun',
          '(210, 175, 70, 255)': 'America/Hermosillo',
          '(210, 210, 0, 255)': 'Asia/Chita',
          '(210, 210, 105, 255)': 'Asia/Urumqi',
          '(210, 210, 140, 255)': 'America/Mazatlan',
          '(210, 210, 175, 255)': 'America/Ojinaga',
          '(210, 210, 210, 255)': 'Africa/Nairobi',
          '(210, 210, 245, 255)': 'Europe/Andorra',
          '(210, 210, 35, 255)': 'America/Guatemala',
          '(210, 210, 70, 255)': 'Europe/Gibraltar',
          '(210, 245, 0, 255)': 'Asia/Jayapura',
          '(210, 245, 105, 255)': 'America/Bogota',
          '(210, 245, 35, 255)': 'America/Puerto_Rico',
          '(210, 245, 70, 255)': 'America/Marigot',
          '(210, 35, 0, 255)': 'Pacific/Rarotonga',
          '(210, 35, 105, 255)': 'Asia/Anadyr',
          '(210, 35, 140, 255)': 'Asia/Kabul',
          '(210, 35, 175, 255)': 'Asia/Damascus',
          '(210, 35, 210, 255)': 'America/Juneau',
          '(210, 35, 245, 255)': 'Europe/Kirov',
          '(210, 35, 35, 255)': 'America/Cuiaba',
          '(210, 35, 70, 255)': 'Africa/Maputo',
          '(210, 70, 0, 255)': 'Pacific/Noumea',
          '(210, 70, 105, 255)': 'America/Anchorage',
          '(210, 70, 140, 255)': 'America/Matamoros',
          '(210, 70, 175, 255)': 'America/Rainy_River',
          '(210, 70, 210, 255)': 'Europe/Busingen',
          '(210, 70, 245, 255)': 'Asia/Omsk',
          '(210, 70, 35, 255)': 'Asia/Kamchatka',
          '(210, 70, 70, 255)': 'Pacific/Niue',
          '(35, 0, 0, 255)': 'Europe/Tallinn',
          '(35, 0, 105, 255)': 'Australia/Perth',
          '(35, 0, 140, 255)': 'Europe/Vaduz',
          '(35, 0, 175, 255)': 'America/North_Dakota/New_Salem',
          '(35, 0, 210, 255)': 'Europe/Vilnius',
          '(35, 0, 245, 255)': 'America/Indiana/Petersburg',
          '(35, 0, 35, 255)': 'Pacific/Johnston',
          '(35, 0, 70, 255)': 'Asia/Magadan',
          '(35, 105, 0, 255)': 'Indian/Mahe',
          '(35, 105, 105, 255)': 'Africa/Accra',
          '(35, 105, 140, 255)': 'Asia/Sakhalin',
          '(35, 105, 175, 255)': 'Australia/Adelaide',
          '(35, 105, 210, 255)': 'America/North_Dakota/Beulah',
          '(35, 105, 245, 255)': 'America/Menominee',
          '(35, 105, 35, 255)': 'Africa/Freetown',
          '(35, 105, 70, 255)': 'Atlantic/South_Georgia',
          '(35, 140, 0, 255)': 'Asia/Novosibirsk',
          '(35, 140, 105, 255)': 'America/Jamaica',
          '(35, 140, 140, 255)': 'America/Swift_Current',
          '(35, 140, 175, 255)': 'Europe/Tirane',
          '(35, 140, 210, 255)': 'Asia/Vladivostok',
          '(35, 140, 245, 255)': 'America/Scoresbysund',
          '(35, 140, 35, 255)': 'Europe/Ulyanovsk',
          '(35, 140, 70, 255)': 'Africa/Lagos',
          '(35, 175, 0, 255)': 'America/Moncton',
          '(35, 175, 105, 255)': 'Asia/Novokuznetsk',
          '(35, 175, 140, 255)': 'Indian/Cocos',
          '(35, 175, 175, 255)': 'Pacific/Guam',
          '(35, 175, 210, 255)': 'America/Kralendijk',
          '(35, 175, 245, 255)': 'Africa/Bujumbura',
          '(35, 175, 35, 255)': 'Australia/Eucla',
          '(35, 175, 70, 255)': 'America/Grenada',
          '(35, 210, 0, 255)': 'America/Montserrat',
          '(35, 210, 105, 255)': 'Africa/Porto-Novo',
          '(35, 210, 140, 255)': 'America/Argentina/Rio_Gallegos',
          '(35, 210, 175, 255)': 'America/Argentina/Catamarca',
          '(35, 210, 210, 255)': 'America/Indiana/Indianapolis',
          '(35, 210, 245, 255)': 'America/Indiana/Tell_City',
          '(35, 210, 35, 255)': 'America/Glace_Bay',
          '(35, 210, 70, 255)': 'Atlantic/Stanley',
          '(35, 245, 0, 255)': 'America/Curacao',
          '(35, 245, 105, 255)': 'Asia/Rangoon',
          '(35, 245, 140, 255)': 'Asia/Qatar',
          '(35, 245, 175, 255)': 'Indian/Antananarivo',
          '(35, 245, 210, 255)': 'America/Grand_Turk',
          '(35, 245, 245, 255)': 'Asia/Khandyga',
          '(35, 245, 35, 255)': 'America/Yakutat',
          '(35, 245, 70, 255)': 'Europe/Volgograd',
          '(35, 35, 0, 255)': 'Asia/Baku',
          '(35, 35, 105, 255)': 'Europe/Lisbon',
          '(35, 35, 140, 255)': 'Antarctica/Macquarie',
          '(35, 35, 175, 255)': 'America/Araguaina',
          '(35, 35, 210, 255)': 'Europe/Vatican',
          '(35, 35, 245, 255)': 'Pacific/Chatham',
          '(35, 35, 35, 255)': 'Asia/Tehran',
          '(35, 35, 70, 255)': 'America/Inuvik',
          '(35, 70, 0, 255)': 'Asia/Thimphu',
          '(35, 70, 105, 255)': 'Asia/Ashgabat',
          '(35, 70, 140, 255)': 'America/Detroit',
          '(35, 70, 175, 255)': 'Atlantic/Madeira',
          '(35, 70, 210, 255)': 'America/Coral_Harbour',
          '(35, 70, 245, 255)': 'Pacific/Funafuti',
          '(35, 70, 35, 255)': 'Australia/Darwin',
          '(35, 70, 70, 255)': 'America/Miquelon',
          '(70, 0, 0, 255)': 'America/North_Dakota/Center',
          '(70, 0, 105, 255)': 'America/Godthab',
          '(70, 0, 140, 255)': 'Asia/Bahrain',
          '(70, 0, 175, 255)': 'America/Kentucky/Monticello',
          '(70, 0, 210, 255)': 'Arctic/Longyearbyen',
          '(70, 0, 245, 255)': 'Australia/Hobart',
          '(70, 0, 35, 255)': 'Pacific/Pitcairn',
          '(70, 0, 70, 255)': 'Pacific/Marquesas',
          '(70, 105, 0, 255)': 'America/Argentina/Tucuman',
          '(70, 105, 105, 255)': 'Asia/Macau',
          '(70, 105, 140, 255)': 'America/Nome',
          '(70, 105, 175, 255)': 'Pacific/Wake',
          '(70, 105, 210, 255)': 'Asia/Yakutsk',
          '(70, 105, 245, 255)': 'Asia/Irkutsk',
          '(70, 105, 35, 255)': 'America/Halifax',
          '(70, 105, 70, 255)': 'Australia/Melbourne',
          '(70, 140, 0, 255)': 'Europe/Zaporozhye',
          '(70, 140, 105, 255)': 'America/Yellowknife',
          '(70, 140, 140, 255)': 'Pacific/Tarawa',
          '(70, 140, 175, 255)': 'America/Resolute',
          '(70, 140, 210, 255)': 'Africa/Brazzaville',
          '(70, 140, 245, 255)': 'Africa/Libreville',
          '(70, 140, 35, 255)': 'America/Fortaleza',
          '(70, 140, 70, 255)': 'Pacific/Fiji',
          '(70, 175, 0, 255)': 'Africa/Sao_Tome',
          '(70, 175, 105, 255)': 'Asia/Samarkand',
          '(70, 175, 140, 255)': 'Africa/Johannesburg',
          '(70, 175, 175, 255)': 'America/Bahia',
          '(70, 175, 210, 255)': 'Europe/Zurich',
          '(70, 175, 245, 255)': 'Atlantic/St_Helena',
          '(70, 175, 35, 255)': 'America/Iqaluit',
          '(70, 175, 70, 255)': 'America/New_York',
          '(70, 210, 0, 255)': 'Europe/Samara',
          '(70, 210, 105, 255)': 'America/Anguilla',
          '(70, 210, 140, 255)': 'Europe/Ljubljana',
          '(70, 210, 175, 255)': 'Pacific/Port_Moresby',
          '(70, 210, 210, 255)': 'America/Rio_Branco',
          '(70, 210, 245, 255)': 'Africa/Bamako',
          '(70, 210, 35, 255)': 'Asia/Pyongyang',
          '(70, 210, 70, 255)': 'America/Adak',
          '(70, 245, 0, 255)': 'Africa/Kampala',
          '(70, 245, 105, 255)': 'America/Goose_Bay',
          '(70, 245, 140, 255)': 'America/Argentina/Mendoza',
          '(70, 245, 175, 255)': 'Africa/Conakry',
          '(70, 245, 210, 255)': 'America/Argentina/Jujuy',
          '(70, 245, 245, 255)': 'Europe/Bratislava',
          '(70, 245, 35, 255)': 'America/Manaus',
          '(70, 245, 70, 255)': 'Asia/Yekaterinburg',
          '(70, 35, 0, 255)': 'Pacific/Galapagos',
          '(70, 35, 105, 255)': 'Africa/Mbabane',
          '(70, 35, 140, 255)': 'Africa/Cairo',
          '(70, 35, 175, 255)': 'America/Cambridge_Bay',
          '(70, 35, 210, 255)': 'Asia/Aqtau',
          '(70, 35, 245, 255)': 'Asia/Hovd',
          '(70, 35, 35, 255)': 'Asia/Oral',
          '(70, 35, 70, 255)': 'America/Dawson_Creek',
          '(70, 70, 0, 255)': 'Pacific/Tongatapu',
          '(70, 70, 105, 255)': 'Indian/Christmas',
          '(70, 70, 140, 255)': 'Asia/Taipei',
          '(70, 70, 175, 255)': 'America/Argentina/Salta',
          '(70, 70, 210, 255)': 'Australia/Broken_Hill',
          '(70, 70, 245, 255)': 'America/Kentucky/Louisville',
          '(70, 70, 35, 255)': 'uninhabited',
          '(70, 70, 70, 255)': 'Asia/Ulaanbaatar'}

if __name__ == '__main__':
    latitude, longitude = get_latlon()
    readit(latitude, longitude)


#
# Someday a cleaner Python interface will live here
#
# End
